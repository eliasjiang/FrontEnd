##  \<script\>元素

使用\<script\>的方式有两种：通过它直接在网页中嵌入JavaScript 代码，以及通过它在网页中包含
外部JavaScript 文件。

含在\<script\>内的代码会被从上到下解释。在上面的例子中，被解释的是一个函数定义，并且
该函数会被保存在解释器环境中。在\<script\>元素中的代码被计算完成之前，页面的其余内容不会被
加载，也不会被显示。

##  标签位置
过去，所有\<script\>元素都被放在页面的<head>标签内

这种做法的主要目的是把外部的 CSS 和 JavaScript 文件都集中放到一起。不过，把所有 JavaScript
文件都放在\<head\>里，也就意味着必须把所有JavaScript 代码都下载、解析和解释完成后，才能开始渲
染页面（页面在浏览器解析到\<body\>的起始标签时开始渲染）。对于需要很多 JavaScript 的页面，这会
导致页面渲染的明显延迟，在此期间浏览器窗口完全空白。为解决这个问题，现代 Web 应用程序通常
将所有JavaScript 引用放在\<body\>元素中的页面内容后面

这样一来，页面会在处理 JavaScript 代码之前完全渲染页面。用户会感觉页面加载更快了，因为浏
览器显示空白页面的时间短了。

## 推迟执行脚本

HTML 4.01 为\<script\>元素定义了一个叫defer 的属性。这个属性表示脚本在执行的时候不会改
变页面的结构。也就是说，脚本会被延迟到整个页面都解析完毕后再运行。因此，在\<script\>元素上
设置defer 属性，相当于告诉浏览器立即下载，但延迟执行。

##  异步执行脚本

HTML5 为\<script\>元素定义了async 属性。从改变脚本处理方式上看，async 属性与defer 类似。当然，它们两者也都只适用于外部脚本，都会告诉浏览器立即开始下载。不过，与 defer 不同的
是，标记为async 的脚本并不保证能按照它们出现的次序执行

## 动态加载脚本

除了\<script\>标签，还有其他方式可以加载脚本。因为JavaScript 可以使用DOM  API，所以通过
向DOM 中动态添加script 元素同样可以加载指定的脚本。只要创建一个script 元素并将其添加到
DOM 即可。

以这种方式获取的资源对浏览器预加载器是不可见的。这会严重影响它们在资源获取队列中的优先
级。根据应用程序的工作方式以及怎么使用，这种方式可能会严重影响性能。要想让预加载器知道这些
动态请求文件的存在，可以在文档头部显式声明它们：

## XHTML 中的变化

##  行内代码与外部文件 

虽然可以直接在 HTML 文件中嵌入 JavaScript 代码，但通常认为最佳实践是尽可能将 JavaScript 代
码放在外部文件中。不过这个最佳实践并不是明确的强制性规则。推荐使用外部文件的理由如下。 
 可维护性。JavaScript 代码如果分散到很多 HTML 页面，会导致维护困难。而用一个目录保存
所有JavaScript 文件，则更容易维护，这样开发者就可以独立于使用它们的HTML 页面来编辑
代码。 
  缓存。浏览器会根据特定的设置缓存所有外部链接的JavaScript 文件，这意味着如果两个页面都
用到同一个文件，则该文件只需下载一次。这最终意味着页面加载更快。 
  适应未来。通过把JavaScript 放到外部文件中，就不必考虑用XHTML 或前面提到的注释黑科技。
包含外部JavaScript 文件的语法在HTML 和XHTML 中是一样的。