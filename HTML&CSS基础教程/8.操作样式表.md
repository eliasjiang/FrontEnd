## 样式的层叠和顺序

将多个样式规则应用于同一元素的情况并不少见，大型网站更是如此，他们需要更多精力维护CSS。有时候这些规则针对的是同一条属性。正如7.4节中提到的，在规则的特殊性相同的情况下，样式的顺序就成为关键。基本规则是：在其他条件相同的情况下，越晚出现的样式优先级越高（参见图8.5.1至图8.5.5）。以下几条解释了顺序如何决定样式规则的优先级。

- 嵌入样式表（位于`style`元素内）与任何链接的外部样式表之间的关系取决于它们在HTML中的相对位置。在两者发生冲突时，如果`link`元素在HTML代码中出现得早（图8.5.2），`style`元素就会覆盖链接的样式表（图8.5.3）；如果`link`元素出现得晚（图8.5.4），其中的样式及其包含的任何导入样式表就会覆盖`style`元素的规则（图8.5.5）。
- 内联样式（实际上直接应用于元素）在外部样式表和嵌入样式表之后。由于顺序最靠后，其优先级是最高的。一旦应用到任何地方，都会覆盖与之冲突的其他样式。
- 关于相互冲突的样式的顺序对优先级的影响，有一种例外情况，就是标记`!important`的样式总是具有最高的优先级，无论它出现在最前、最后，还是中间。例如，`p { margin-top: 1em **!important**; }`。不过，要尽量避免这种用法，极端情况除外。几乎在全部情况下，使用选择器都能达到同样的效果。此外，`!important`让声明变得太强，如果要覆盖这样的样式，就不得不借助于更长的规则。

## 使用与媒体相关的样式表

可以指定一个只用于特定输出的样式表，如只用于打印，或只用于在浏览器中查看屏幕。例如，可以创建一个具有打印和屏幕版本共有特征的通用样式表，再创建单独的打印样式表和屏幕样式表，分别包含只用于打印的属性和只用于屏幕显示的属性。

### 指定与媒体相关的样式表的步骤

1. 在`link`或`style`元素的开始标签中添加`media="*output*"`，其中`*output*`可以是`print`、`screen`或`all`（尽管还有其他一些选项，但这些是最常见的），参见图8.6.1。多个值之间用逗号分隔。
2. 也可以在样式表中使用`@media`规则，参见图8.6.2。这种方法不需要在`link`元素中指定媒体类型。