## 第三方插件和步入原生

如上文所述，在HTML5出现之前，可以通过第三方插件为网页添加音频和视频，但这样做有一些问题。在某个浏览器中嵌入Flash视频的代码在另一个浏览器中可能不起作用，也没有包围它的优雅方式。而且，这样做会影响用户访问网站的体验，因为像Flash这样的插件会占用大量的计算资源。有时，浏览器会变慢，甚至崩溃。

考虑到这些问题，HTML5规范中添加了原生的多媒体。这样做有很多好处：速度更快（任何浏览器原生的功能势必比插件要快一些），媒体播放按钮和其他控件内置到浏览器，对插件的依赖极大地降低（但也并非完全不依赖，这在后面将会看到）。

对于任何一套标准，都有关于HTML5原生多媒体及其支持的文件格式的问题。最初，HTML5规范指定了两种兼容HTML5的浏览器必须支持的媒体格式（分别对应音频和视频）。这本来是很好的，但并非所有的厂商都愿意遵循。这意味着你需要为你的媒体提供一种以上的格式才能让它在兼容HTML5的浏览器中播放。后面我们将详细地讨论这些问题。



## 视频文件格式

## 在网页中添加单个视频

要在HTML5网页中添加视频，需要使用新的`video`元素。这一过程再简单不过了，如图17.3.1所示。浏览器会计算视频的尺寸，并在加载文件后以计算的尺寸显示视频，参见图17.3.2。开发人员也可以自行设定视频尺寸，如图17.3.3所示。

```css
<body>
     <video src="paddle-steamer.webm"></video>
</body>
```

## 为视频添加控件和自动播放

`controls`属性会告诉浏览器添加一套用于控制视频播放的控件。每个浏览器都有自己默认的控件，它们看起来都不一样

```css
<body>
    <video src="paddle-steamer.webm" width="369" height="208" controls> </video>
</body>
</html>
```

## 为视频指定循环播放和海报图像

不仅可以将视频设为自动播放，还可以将它设为持续播放，直到停止，如图17.5.1所示。（不过这一做法并不推荐，考虑一下用户的感受就知道原因了。）要实现循环播放，只需要使用`autoplay`和`loop`属性。

如果不设置`autoplay`属性，通常浏览器会在视频加载时显示视频的第一帧。你可能想对此作出修改，指定你自己的图像。这可以通过海报图像实现

## 阻止视频预加载

如果认为用户观看视频的可能性较低（如该视频并不是页面的主要内容），那么可以告诉浏览器不要预先加载该视频，

```css
<body>
    <video src="paddle-steamer.webm" preload="none" controls></video>
</body>
</html>
```

## 使用多种来源的视频和备用文本

## 音频文件格式